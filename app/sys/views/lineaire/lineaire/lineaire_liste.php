<!-- Table lineaires sous projets -->
<div class="block">
    <div class="block-content table-responsive" style="overflow-x: scroll;">
        <!-- DataTables init on table by adding .js-dataTable-full class, functionality initialized in js/pages/base_tables_datatables.js -->
        <table id="lineaires_table" class="table table-bordered table-striped js-dataTable-full" width="100%">
            <thead>
            <tr>
                <th class="bg bg-info-light" colspan="4" style="text-align: center;">Site</th>
                <!--CTR-->
                <th class="bg bg-success-light" colspan="24" style="text-align: center;">CTR</th>
                <!--CDI-->
                <th class="bg bg-warning-light" colspan="20" style="text-align: center;">CDI</th>
            </tr>
            <tr>
                <th colspan="4" rowspan="2" style="text-align: center;">Infos Sous Projet</th>
                <!--CTR-->
                <th colspan="10" style="text-align: center;">Aiguillage</th>
                <th colspan="14" style="text-align: center;">Tirage</th>
                <!--CDI-->
                <th colspan="8" style="text-align: center;">Aiguillage</th>
                <th colspan="12" style="text-align: center;">Tirage</th>
            </tr>
            <tr>
                <!--CTR-->
                <!--Aiguillage-->
                <th colspan="4" style="text-align: center;background-color: #70b9eb;">Câbles</th>
                <th colspan="4" style="text-align: center;background-color: #f3b760;">Boites</th>
                <th colspan="2" style="text-align: center;background-color: #44b4a6;">NRO</th>
                <!--Tirage-->
                <th colspan="4" style="text-align: center;background-color: #70b9eb;">Câbles</th>
                <th colspan="4" style="text-align: center;background-color: #46c37b;">Tubage</th>
                <th colspan="4" style="text-align: center;background-color: #f3b760;">Boites</th>
                <th colspan="2" style="text-align: center;background-color: #44b4a6;">NRO</th>
                <!--CDI-->
                <!--Aiguillage-->
                <th colspan="4" style="text-align: center;background-color: #70b9eb;">Câbles</th>
                <th colspan="4" style="text-align: center;background-color: #f3b760;">Boites</th>
                <!--Tirage-->
                <th colspan="4" style="text-align: center;background-color: #70b9eb;">Câbles</th>
                <th colspan="4" style="text-align: center;background-color: #46c37b;">Tubage</th>
                <th colspan="4" style="text-align: center;background-color: #f3b760;">Boites</th>
            </tr>
            <tr>
                <th>Sous-projet</th>
                <th>Ville</th>
                <th>LR</th>
                <th>LR sur PM Existant</th>
                <!--CTR-->
                <!--Aiguillage-->
                <!--câbles-->
                <th>720FO</th>
                <th>432FO</th>
                <th>288FO</th>
                <th>144FO</th>
                <!--boites-->
                <th>720FO</th>
                <th>432FO</th>
                <th>288FO</th>
                <th>144FO</th>
                <!--NRO-->
                <th>CTR</th>
                <th>TOR</th>
                <!--Tirage-->
                <!--cables-->
                <th>720FO</th>
                <th>432FO</th>
                <th>288FO</th>
                <th>144FO</th>
                <!--tubage-->
                <th>21/25</th>
                <th>16/20</th>
                <th>15/18</th>
                <th>Trançons à tuber</th>
                <!--boites-->
                <th>720FO</th>
                <th>432FO</th>
                <th>288FO</th>
                <th>144FO</th>
                <!--boites-->
                <th>CTR</th>
                <th>TOR</th>
                <!--CDI-->
                <!--Aiguillage-->
                <!--câbles-->
                <th>288FO</th>
                <th>144FO</th>
                <th>72FO</th>
                <th>48FO</th>
                <!--boites-->
                <th>288FO</th>
                <th>144FO</th>
                <th>72FO</th>
                <th>48FO</th>
                <!--Tirage-->
                <!--câbles-->
                <th>288FO</th>
                <th>144FO</th>
                <th>72FO</th>
                <th>48FO</th>
                <!--tubage-->
                <th>18/21</th>
                <th>15/18</th>
                <th>11/14</th>
                <th>Trançons à tuber</th>
                <!--boites-->
                <th>288FO</th>
                <th>144FO</th>
                <th>72FO</th>
                <th>48FO</th>
            </tr>
            </thead>
            <tbody>
            </tbody>
            <tfoot>
            <tr>
                <th>Sous-projet</th>
                <th>Ville</th>
                <th>LR</th>
                <th>LR sur PM Existant</th>
                <!--CTR-->
                <!--Aiguillage-->
                <!--câbles-->
                <th>720FO</th>
                <th>432FO</th>
                <th>288FO</th>
                <th>144FO</th>
                <!--boites-->
                <th>720FO</th>
                <th>432FO</th>
                <th>288FO</th>
                <th>144FO</th>
                <!--NRO-->
                <th>CTR</th>
                <th>TOR</th>
                <!--Tirage-->
                <!--cables-->
                <th>720FO</th>
                <th>432FO</th>
                <th>288FO</th>
                <th>144FO</th>
                <!--tubage-->
                <th>21/25</th>
                <th>16/20</th>
                <th>15/18</th>
                <th>Trançons à tuber</th>
                <!--boites-->
                <th>720FO</th>
                <th>432FO</th>
                <th>288FO</th>
                <th>144FO</th>
                <!--boites-->
                <th>CTR</th>
                <th>TOR</th>
                <!--CDI-->
                <!--Aiguillage-->
                <!--câbles-->
                <th>288FO</th>
                <th>144FO</th>
                <th>72FO</th>
                <th>48FO</th>
                <!--boites-->
                <th>288FO</th>
                <th>144FO</th>
                <th>72FO</th>
                <th>48FO</th>
                <!--Tirage-->
                <!--câbles-->
                <th>288FO</th>
                <th>144FO</th>
                <th>72FO</th>
                <th>48FO</th>
                <!--tubage-->
                <th>18/21</th>
                <th>15/18</th>
                <th>11/14</th>
                <th>Trançons à tuber</th>
                <!--boites-->
                <th>288FO</th>
                <th>144FO</th>
                <th>72FO</th>
                <th>48FO</th>
            </tr>
            </tfoot>
        </table>
    </div>
</div>
<!-- END Table lineaires sous projets -->

<script>
    /*var details_dt;
    $(document).ready(function() {

        details_dt = $('#lineaires_table').DataTable( {
            "iDisplayLength":500,
            "language": {
                "url": "assets/js/plugins/datatables/French.json"
            },
            dom: 'Bfrtip',
            buttons: [
                {
                    extend: 'excel',
                    text: 'Excel',
                    header : true,
                    className : 'button button-primary',
                    filename : 'avancement général'
                }
            ],
            "autoWidth": false,
            "processing": true,
            "serverSide": true,
            "ajax": {
                "url": 'api/projet/sousprojet/details_liste.php?idp='
            },
            "columns": [
                { "data": "lib_nro" },
                { "data": "ville" },
                { "data": "lr" },
                { "data": "lr_sur_pm" },
                { "data": "ctr_design_lib_ok" },
                { "data": "ctr_aiguillage_lib_controle_plan" },
                { "data": "ctr_aiguillage_ordre_de_travail" },
                { "data": "ctr_aiguillage_lib_etat_retour" },
                { "data": "ctr_aiguillage_lib_commande_acces" },
                { "data": "ctr_aiguillage_lib_go_ft" },
                { "data": "ctr_tirage_lib_controle_plan" },
                { "data": "ctr_tirage_ordre_de_travail" },
                { "data": "ctr_tirage_lib_etat_retour" },
                { "data": "ctr_raccord_lib_controle_plan" },
                { "data": "ctr_raccord_ordre_de_travail" },
                { "data": "ctr_raccord_lib_etat_retour" },
                { "data": "ctr_recette_etat_recette" },
                { "data": "cdi_design_lib_ok" },
                { "data": "cdi_aiguillage_lib_controle_plan" },
                { "data": "cdi_aiguillage_ordre_de_travail" },
                { "data": "cdi_aiguillage_lib_etat_retour" },
                { "data": "cdi_aiguillage_lib_commande_acces" },
                { "data": "cdi_aiguillage_lib_go_ft" },
                { "data": "cdi_tirage_lib_controle_plan" },
                { "data": "cdi_tirage_ordre_de_travail" },
                { "data": "cdi_tirage_lib_etat_retour" },
                { "data": "cdi_raccord_lib_controle_plan" },
                { "data": "cdi_raccord_ordre_de_travail" },
                { "data": "cdi_raccord_lib_etat_retour" },
                { "data": "cdi_recette_etat_recette" },
                { "data": "zone" }

            ],
            "columnDefs": [
                {
                    "targets": 0,
                    orderData: [ 0, 30 ],
                    "data": "lib_nro",
                    "render": function ( data, type, full, meta ) {
                        if(type == "display"){
                            return  '<a href="?page=sousprojet&idsousprojet='+full.id_sous_projet+'">'+full.lib_nro + '-' + full.zone+'</a>';
                        }

                        return full.lib_nro + '-' + full.zone;
                    }
                },
                { "targets": [ 30 ], "visible": false, "searchable": true }
            ],
            "order": [[0, 'desc']]
            ,
            "drawCallback": function( settings ) {
            }
        } );
    } );*/
</script>